<!DOCTYPE html>
<html>
<head>
    <script src="../../angular.js"></script>
    <script>var app = angular.module("app", []);

    app.directive("server", function() {
        return {
            compile: function() {
                return {
                    pre: function($scope, $elem, $attrs) {
                        $scope.$on("message", function (e, msg) {
                            console.log(msg);
                        });
                    }
                };
            }
        };
    });

    app.directive("client", function() {
        return {
            link: function($scope, $elem, $attrs) {
                $scope.$emit("message", "Hello, this is the client!");
            }
        };
    });</script>
    <meta charset="utf-8">
    <title>Accessing a directive on a parent element Events</title>
</head>
<body ng-app="app">
<div server>
    <div client></div>
</div>
</body>
</html>