<html ng-app="myApp">
<body>
<div ng-controller="ParentCtrl as vm">
    <my-directive on-foo-eq-bar="vm.updateMessage(msg)"></my-directive>
</div>

<script src="../angular.js"></script>
<script>
    angular.module('myApp', [])
            .controller('ParentCtrl', function($window) {
                var vm = this;
                vm.updateMessage = function(msg) {
                    $window.alert(msg);
                };
            })
            .directive('myDirective', function() {
                return {
                    scope: {
                        onFooEqBar:'&'
                    },
                    controllerAs:'vm',
                    controller: function($scope) {
                        var self = this;
                        self.foo = 'bar';
                        // Some simple logic.
                        if (self.foo === 'bar') {
                            $scope.onFooEqBar({msg: false});
                        }
                    }
                };
            });
</script>
</body>
</html>